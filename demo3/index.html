<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="description" content="DEMO 2">

  <script src="../javascripts/lib/React/react.js"></script>
  <script src="../javascripts/lib/React/react-dom.min.js"></script>
  <script src="../javascripts/lib/React/browser.min.js"></script>
  <script src="../javascripts/lib/jquery-1.8.2-min.js"></script>
  <title>DEMO 2</title>
</head>

<body>
  <div id="timer"></div>
  <script type="text/babel">
var Timer = React.createClass({
  //获取初始化状态
  getInitialState: function() {
    return this.getTimeNow();
  },
  //一个操作函数
  tick: function() {
    this.setState(this.getTimeNow());
  },
  //组件安装
  componentDidMount: function() {
    this.interval = setInterval(this.tick, 1000);
  },
  //组件卸载
  componentWillUnmount: function() {
    clearInterval(this.interval);
  },
  getTimeNow:function(){
    var date=new Date();
    return {
      year:date.getYear()+1900,
      month:date.getMonth()+1,
      day:date.getDate(),
      hours:date.getHours(),
      minutes:date.getMinutes(),
      seconds:date.getSeconds()
    };
  },
  render: function() {
    return (
      <div>{this.state.year}-{this.state.month}-{this.state.day} {this.state.hours}:{this.state.minutes}:{this.state.seconds}</div>
      );
  }
});
var forkme_banner=$("#timer");
ReactDOM.render(<Timer />, forkme_banner[0]);
  </script>
</body>
</html>
